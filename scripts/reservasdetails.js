var dict = {
    "orgs": [
        {
            "Id": 1, "Info": {
                "Name": "Centro Playbowling Cascais",
                "District": "Lisboa",
                "Priceholder": 20,
                "Events": [
                    {
                        "Id": "1",
                        "IdS": "One",
                        "Name": "Bowling",
                        "Preco": 2
                    },
                    {
                        "Id": "2",
                        "IdS": "Two",
                        "Name": "Sala de Jogos",
                        "Preco": 2
                    },
                    {
                        "Id": "3",
                        "IdS": "Three",
                        "Name": "PaintBall",
                        "Preco": 25
                    },
                    {
                        "Id": "4",
                        "IdS": "Four",
                        "Name": "LaserMaze",
                        "Preco": 2
                    }
                ],
                "Image": "./Imagens/Reservas/bowling.jpg"
            }
        },
        {
            "Id": 2, "Info": {
                "Name": "Go Party",
                "District": "Lisboa",
                "Priceholder": 390,
                "Events": [
                    {
                        "Id": 1,
                        "IdS": "One",
                        "Name": "Festa Simples (sem lanche)",
                        "Preco": 26
                    },
                    {
                        "Id": 2,
                        "IdS": "Two",
                        "Name": "Festa – Menu Standard com Bolo de Aniversário Gelado Artisani",
                        "Preco": 28
                    },
                    {
                        "Id": 3,
                        "IdS": "Three",
                        "Name": "Festa – Menu Premium com Almoço ou Jantar e Bolo de Aniversário",
                        "Preco": 32
                    }
                ],
                "Image": "./Imagens/Reservas/goparty.jpg"
            }
        },
        {
            "Id": 3, "Info": {
                "Name": "Lisbon Escape Hunt",
                "District": "Lisboa",
                "Priceholder": 35,
                "Events": [
                    {
                        "Id": 1,
                        "IdS": "One",
                        "Name": "Elite do Tempo",
                        "Preco": 35
                    },
                    {
                        "Id": 2,
                        "IdS": "Two",
                        "Name": "O mistério de Fernando Pessoa",
                        "Preco": 80
                    },
                    {
                        "Id": 3,
                        "IdS": "Three",
                        "Name": "Feira Popular",
                        "Preco": 80
                    },
                    {
                        "Id": 4,
                        "IdS": "Four",
                        "Name": "Introdução a uma Sociedade Secreta A",
                        "Preco": 80
                    },
                    {
                        "Id": 5,
                        "IdS": "Five",
                        "Name": "Introdução a uma Sociedade Secreta B",
                        "Preco": 80
                    },
                    {
                        "Id": 5,
                        "IdS": "Five",
                        "Name": "Introdução a uma Sociedade Secreta C",
                        "Preco": 80
                    }
                ],
                "Image": "./Imagens/Reservas/escapehunt.jpg"
            }
        },
        {
            "Id": 4, "Info": {
                "Name": "JumpYard Lisboa",
                "District": "Lisboa",
                "Priceholder": 13,
                "Events": [
                    {
                        "Id": 1,
                        "IdS": "One",
                        "Name": "JumpTime (Individual)",
                        "Preco": 13
                    },
                    {
                        "Id": 2,
                        "IdS": "Two",
                        "Name": "JumpFamily (4 Pessoas)",
                        "Preco": 39
                    }
                ],
                "Image": "./Imagens/Reservas/jumpyard.jpg"
            }
        },
        {
            "Id": 5, "Info": {
                "Name": "Fearzone - Paintball",
                "District": "Lisboa",
                "Priceholder": 150,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "FZKIDS",
                        "Preco": 15
                    },
                    {
                        "Id": 2,
                        "Name": "FZ100",
                        "Preco": 15
                    },
                    {
                        "Id": 3,
                        "Name": "FZ200",
                        "Preco": 20
                    },
                    {
                        "Id": 4,
                        "Name": "FZ300",
                        "Preco": 25
                    },
                    {
                        "Id": 5,
                        "Name": "FZ400",
                        "Preco": 30
                    },
                    {
                        "Id": 6,
                        "Name": "FZ500",
                        "Preco": 35
                    },
                    {
                        "Id": 7,
                        "Name": "FZNIGHT",
                        "Preco": 25
                    },
                    {
                        "Id": 8,
                        "Name": "FZMULTI",
                        "Preco": 25
                    }
                ],
                "Image": "./Imagens/Reservas/fearzone.png"
            }
        },
        {
            "Id": 6, "Info": {
                "Name": "Aventuras no Bosque",
                "District": "Lisboa",
                "Priceholder": 270,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Festa da Raposa – para pequenos e graúdos",
                        "Preco": 550
                    },
                    {
                        "Id": 2,
                        "Name": "Festa do Coelho – Aluguer do espaço",
                        "Preco": 270
                    },
                    {
                        "Id": 3,
                        "Name": "Festa do Mocho – Festas só para os mais pequenos",
                        "Preco": 320
                    }
                ],
                "Image": "./Imagens/Reservas/bosque.jpg"
            }
        },
        {
            "Id": 7, "Info": {
                "Name": "Spacegarden",
                "District": "Lisboa",
                "Priceholder": 70,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Sala + Terraço - Segunda a Sexta",
                        "Preco": 70
                    },
                    {
                        "Id": 2,
                        "Name": "Sala + Terraço - Sábado",
                        "Preco": 90
                    },
                    {
                        "Id": 3,
                        "Name": "Sala + Terraço - Domingo",
                        "Preco": 80
                    },
                    {
                        "Id": 4,
                        "Name": "Salão + Bar + Jardim",
                        "Preco": 95
                    }
                ],
                "Image": "./Imagens/Reservas/spacegarden.jpg"
            }
        },
        {
            "Id": 8, "Info": {
                "Name": "Fintas",
                "District": "Lisboa",
                "Priceholder": 95,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Futebol",
                        "Preco": 9.5
                    },
                    {
                        "Id": 2,
                        "Name": "Playground",
                        "Preco": 10.5
                    },
                    {
                        "Id": 3,
                        "Name": "MIX",
                        "Preco": 11.5
                    },
                    {
                        "Id": 4,
                        "Name": "Futebol+Escalada",
                        "Preco": 12.5
                    },
                    {
                        "Id": 5,
                        "Name": "Playground+Escalada",
                        "Preco": 13.5
                    },
                    {
                        "Id": 6,
                        "Name": "MIX + Escalada",
                        "Preco": 14.5
                    }
                ],
                "Image": "./Imagens/Reservas/fintas.jpg"
            }
        },
        {
            "Id": 9, "Info": {
                "Name": "Marina Parque das Nações",
                "District": "Lisboa",
                "Priceholder": 185,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Frozen",
                        "Preco": 290
                    },
                    {
                        "Id": 2,
                        "Name": "Jogos Tradicionais",
                        "Preco": 260
                    },
                    {
                        "Id": 3,
                        "Name": "Havaianas",
                        "Preco": 280
                    },
                    {
                        "Id": 4,
                        "Name": "Piscina de Bolas c/ Escorrega",
                        "Preco": 300
                    },
                    {
                        "Id": 5,
                        "Name": "Patrulha Pata + Insuflável Pequeno",
                        "Preco": 340
                    },
                    {
                        "Id": 6,
                        "Name": "Insuflável Grande com Animação",
                        "Preco": 300
                    },
                    {
                        "Id": 7,
                        "Name": "Touro Mecânico com animação",
                        "Preco": 430
                    },
                    {
                        "Id": 8,
                        "Name": "Lady Bug",
                        "Preco": 280
                    },
                    {
                        "Id": 9,
                        "Name": "PJ Masks",
                        "Preco": 290
                    },
                    {
                        "Id": 10,
                        "Name": "Unicórnio",
                        "Preco": 290
                    },
                    {
                        "Id": 11,
                        "Name": "Panda",
                        "Preco": 280
                    },
                    {
                        "Id": 12,
                        "Name": "Tartarugas Ninja",
                        "Preco": 280
                    }
                ],
                "Image": "./Imagens/Reservas/marina.jpg"
            }
        },
        {
            "Id": 10, "Info": {
                "Name": "Partyspot",
                "District": "Lisboa",
                "Priceholder": 215,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Vamos Dançar!",
                        "Preco": 215
                    },
                    {
                        "Id": 2,
                        "Name": "Vamos à Discoteca!",
                        "Preco": 250
                    },
                    {
                        "Id": 3,
                        "Name": "Party Glow!",
                        "Preco": 280
                    },
                    {
                        "Id": 4,
                        "Name": "Dança Com Tatuagem Glitter!",
                        "Preco": 305
                    },
                    {
                        "Id": 5,
                        "Name": "Disco Kids Silver!",
                        "Preco": 250
                    },
                    {
                        "Id": 6,
                        "Name": "Disco Kids Gold!",
                        "Preco": 285
                    },
                    {
                        "Id": 7,
                        "Name": "Live Concert!",
                        "Preco": 395
                    },
                    {
                        "Id": 8,
                        "Name": "Vamos Dançar e Fazer Uma Pintura Facial!",
                        "Preco": 305
                    },
                    {
                        "Id": 9,
                        "Name": "Let's be a POPSTAR",
                        "Preco": 305
                    },
                    {
                        "Id": 10,
                        "Name": "Festa da Jasmin",
                        "Preco": 305
                    },
                    {
                        "Id": 11,
                        "Name": "A Dança do Panda!",
                        "Preco": 305
                    },
                    {
                        "Id": 12,
                        "Name": "Festa da Minnie!",
                        "Preco": 305
                    },
                    {
                        "Id": 13,
                        "Name": "Segurança é com o Marshall! (Patrulha Pata)",
                        "Preco": 305
                    },
                    {
                        "Id": 14,
                        "Name": "Os Descendentes",
                        "Preco": 305
                    },
                    {
                        "Id": 15,
                        "Name": "A Festa do Frozen!",
                        "Preco": 305
                    },
                    {
                        "Id": 16,
                        "Name": "A Festa da Bela!",
                        "Preco": 305
                    },
                    {
                        "Id": 17,
                        "Name": "O Baile da Cinderela!",
                        "Preco": 305
                    },
                    {
                        "Id": 18,
                        "Name": "Vamos ajudar a Rapunzel?",
                        "Preco": 305
                    },
                    {
                        "Id": 19,
                        "Name": "Espetáculo de magia!",
                        "Preco": 390
                    },
                    {
                        "Id": 20,
                        "Name": "A Dança da Fantasia",
                        "Preco": 250
                    },
                    {
                        "Id": 21,
                        "Name": "Disco Party",
                        "Preco": 250
                    },
                    {
                        "Id": 22,
                        "Name": "Disco Glow Party",
                        "Preco": 285
                    },
                    {
                        "Id": 23,
                        "Name": "DJ Spot",
                        "Preco": 340
                    },
                    {
                        "Id": 24,
                        "Name": "Glow Party + DJ Spot",
                        "Preco": 340
                    },
                    {
                        "Id": 24,
                        "Name": "Live Concert!",
                        "Preco": 340
                    },
                ],
                "Image": "./Imagens/Reservas/Party-Spot.webp"
            }
        },
        {
            "Id": 11, "Info": {
                "Name": "To be kid",
                "District": "Lisboa",
                "Priceholder": 200,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "KID1",
                        "Preco": 200
                    },
                    {
                        "Id": 2,
                        "Name": "KID2",
                        "Preco": 225
                    },
                    {
                        "Id": 3,
                        "Name": "KID3",
                        "Preco": 280
                    }
                ],
                "Image": "./Imagens/Reservas/tobekid.webp"
            }
        },
        {
            "Id": 11, "Info": {
                "Name": "Casa do Impacto",
                "District": "Lisboa",
                "Priceholder": 120,
                "Events": [
                    {
                        "Id": 1,
                        "Name": "Jantares - Sala Infinita",
                        "Preco": 800
                    },
                    {
                        "Id": 2,
                        "Name": "Cocktails - Páteo",
                        "Preco": 600
                    },
                    {
                        "Id": 3,
                        "Name": "Cocktails - Sala da Bica",
                        "Preco": 500
                    },
                    {
                        "Id": 4,
                        "Name": "Cocktails - Terraço (Rooftop)",
                        "Preco": 400
                    },
                    {
                        "Id": 5,
                        "Name": "Cocktails - Sala Infinita",
                        "Preco": 600
                    },
                    {
                        "Id": 6,
                        "Name": "Eventos Culturais - Sala da Bica",
                        "Preco": 500
                    },
                    {
                        "Id": 7,
                        "Name": "Eventos Culturais - Sala Infinita",
                        "Preco": 600
                    },
                    {
                        "Id": 8,
                        "Name": "Eventos Académicos - Sala da Bica",
                        "Preco": 400
                    },
                    {
                        "Id": 9,
                        "Name": "Eventos Académicos - Sala Reuniões",
                        "Preco": 120
                    },
                    {
                        "Id": 10,
                        "Name": "Eventos Académicos - Sala Infinita",
                        "Preco": 500
                    },
                    {
                        "Id": 11,
                        "Name": "Eventos Sociais - Sala da Bica",
                        "Preco": 500
                    },
                    {
                        "Id": 12,
                        "Name": "Eventos Sociais - Terraço (Rooftop)",
                        "Preco": 400
                    },
                    {
                        "Id": 13,
                        "Name": "Eventos Sociais - Sala Infinita",
                        "Preco": 600
                    },
                    {
                        "Id": 14,
                        "Name": "Utilização de espaço para filmagens - Páteo",
                        "Preco": 800
                    },
                    {
                        "Id": 15,
                        "Name": "Utilização de espaço para filmagens - Sala da Bica",
                        "Preco": 600
                    },
                    {
                        "Id": 16,
                        "Name": "Utilização de espaço para filmagens - Sala Infinita",
                        "Preco": 700
                    },
                ],
                "Image": "./Imagens/Reservas/impacto.jpg"
            }
        }
    ]
};
self.Events = ko.observableArray([]);
self.Id = ko.observable('');
self.Name = ko.observable('');
self.Price = ko.observable('');
self.OrgName = ko.observable('');
self.Image = ko.observable('')

function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};

/*trimmed value binder for knockout*/
ko.bindingHandlers.trimedValue = {
    init: function (element, valueAccessor, allBindingsAccessor) {
        $(element).on("change", function () {
            var observable = valueAccessor();
            var trimedValue = $.trim($(this).val());
            observable($(this).val());
            observable(trimedValue);
        });
    },
    update: function (element, valueAccessor) {
        var value = ko.utils.unwrapObservable(valueAccessor());
        var trimedValue = $.trim(value);
        $(element).val(trimedValue);
    }
};

    var self = this;
    var boing = dict.orgs
    self.events = ko.observableArray([]);
    self.activate = function () {
        data = dict.orgs
        console.log(data)
        self.orgs(dict.orgs);

    };

    function getKeyByValue(object, value) {
        return Object.keys(object).find(key => object[key] === value);
    };

$(document).ready(function () {
    id = getUrlParameter('id');
    boingerino = boing[id - 1];
    info = boingerino.Info;
    events = info.Events;
    console.log(id);
    console.log(info);
    console.log(boingerino);
    console.log(events);
    self.Events(events);
    self.Id(events.Id);
    self.Name(events.Name);
    self.Price(events.Preco);
    console.log(info.Name);
    self.OrgName(info.Name);
    self.Image(info.Image);
    console.log(info.Image);
    var map = { "first": "1", "second": "2" };
    console.log(getKeyByValue(dict, "2"));
    console.log(dict);
    console.log(boing[getKeyByValue("Id", 1)]);
    console.log("ready!");
    ko.applyBindings();
        
    });


